---
title: "Lab 02 - Plastic waste"
author: "Maude Dagenais"
date: "22/09/2025"
---

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste <- plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1

```{r plastic-waste-continent}
 ggplot(plastic_waste, aes(x=plastic_waste_per_cap)) + geom_histogram(binwidth=0.20) + labs( x="Plastique", y="compte", title="Quantité de déchets par habitant") + facet_wrap(~continent)
```

### Exercise 2

```{r plastic-waste-density}
ggplot(plastic_waste, aes(x=plastic_waste_per_cap, fill=continent, colour=continent)) + geom_density(adjust=1, alpha=0.5) + labs( x="Plastique", y="densité", title="Quantité de déchets plastique par habitant", fill="continent")
```

Colour et Fill sont basés sur les données, alors que alpha est une caractéristique fixée qui est la même pour toutes les données. 

### Exercise 3

Boxplot:

```{r plastic-waste-boxplot}
ggplot(plastic_waste, aes(x=continent, y=plastic_waste_per_cap)) + geom_boxplot() + labs(x="Continent", y="Plastique", title="Quantité de déchets par continent")
```

Violin plot:

```{r plastic-waste-violin}
ggplot(plastic_waste, aes(x=continent, y=plastic_waste_per_cap)) + geom_violin() + labs(x="Continent", y="Plastique", title="Quantité de déchets par continent")
```

Les violon plots permettent de la voir la distribution des données, alors que les box plots montrent seulement la médiane. 

### Exercise 4


```{r plastic-waste-mismanaged}
ggplot(plastic_waste, aes(x=plastic_waste_per_cap, y=mismanaged_plastic_waste_per_cap, colour=continent)) + geom_point() + labs(x="Déchets/Habitant (kg/jour)", y="Déchets non-gérés/Habitant (kg/jour)", title="Déchets gérés vs déchets non-gérés en kg/jour")
```

Il y a une tendance linéaire par continent mais pas entre les continents. 

### Exercise 5

```{r plastic-waste-population-total}
ggplot(plastic_waste, aes(x=total_pop, y=plastic_waste_per_cap)) + geom_point() + labs(x="population totale", y="déchets/habitant kg/jour", title="relation entre la quantité de déchets plastiques par habitant et le nombre total d’habitants")
```

```{r plastic-waste-population-coastal}
ggplot(plastic_waste, aes(x=coastal_pop, y=plastic_waste_per_cap)) + geom_point() + labs(x="Population côtière", y="déchets/habitant kg/jour", title="relation entre la quantité de déchets plastiques et le nombre total d’habitants vivant près d’une côte")
```

Il n'y a pas vraiment de relation entre les deux variables. 

## Conclusion

Recréez la visualisation:
```{r}
plastic_waste_coastal <- plastic_waste %>% 
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3)
```

```{r recreate-viz}
ggplot(plastic_waste_coastal, aes(x=coastal_pop_prop, y=plastic_waste_per_cap)) + geom_point(aes(colour=continent)) + geom_smooth(colour=("black")) + labs(x="Propostionde la population côtière (Coastal/total population)", y="Nombre de déchets plastiquepar habitant", title = "Quantité de déchetsplastiques vs Proportion de la population côtière", subtitle = "Selon le continent")
```

On remarque que la courbe monte au début, donc que le nombre de déchèts augmentent rapidement en fonction du nombre d'habitants jusqu'à une proportion de 0,5. Ensuite, la relation est plus constante. 